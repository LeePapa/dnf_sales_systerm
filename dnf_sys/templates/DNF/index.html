<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Page Title</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="/static/css/bootstrap.min.css">                                                                          
  <link rel="stylesheet" href="/static/css/main.css">                                                                          
</head>

<body class="container">
  <!-- 头部 -->
  <header class="my-2">
    <div class="">
      <div class="avatar-box pr-1 mb-2">
        <img src="https:static.coinchase.com/image/153380860500422W27UB1HKJ_h-icon.png" style="width=60px;height:60px;">
        <span class="mb-0">充钱勇士2018</span>
      </div>

      <div class="">
        <div class="d-flex justify-content-between fz-sm">
          <div class="border-left border-primary px-1">
            <p>
              <span>账户余额数</span>
              <span>8888</span>
            </p>
            <p>
              <span>账户积分数</span>
              <span>9999</span>
            </p>
            <p>
              <span>累计交易量</span>
              <span>1111</span>
            </p>
          </div>
          <div class="border-left border-primary px-1">
            <span>当前绑定大区的比例</span>
            <div class="d-flex">
              <div class="">
                <p class="">跨八服区</p>
                <p class="">天津一区</p>
              </div>
              <div class="text-primary text-center pl-2" style="font-size: 28px;">
                1:50
              </div>
            </div>
          </div>

          <div class="px-1 mt-2 text-center">
            <span class="d-inline-block float-left rounded bg-secondary text-white p-1 mr-2" style="width: 40px; height: 45px;">
              当日订单
            </span>
            <span class="d-inline-block float-left rounded bg-info text-white p-1" style="width: 40px; height: 45px;">
              交易历史
            </span>
          </div>
        </div>
      </div>

    </div>
  </header>

  <!-- 广告 -->
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
      <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img class="d-block w-100" src="/static/images/guanggao.jpeg" alt="First slide">
      </div>
      <div class="carousel-item">
        <img class="d-block w-100" src="/static/images/guanggao.jpeg" alt="Second slide">
      </div>
      <div class="carousel-item">
        <img class="d-block w-100" src="/static/images/guanggao.jpeg" alt="Third slide">
      </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

  <!-- echarts -->
  <div class="my-2">
    <div class="">
      <div class="">
        <ul class="tag-list list-unstyled">
          <li class="mr-2 mb-2">
              {% for my_area in area_list%}
              <a href="/seller_index?area={{my_area}}"{% if area == my_area %} style="color:red" {% endif %}>{{my_area}}</a>&nbsp;&nbsp;&nbsp;&nbsp;
              {% endfor %}
          </li>
        </ul>
      </div>
      <div class="border pr-2">
          <div id="mychart" style="height: 300px; width:350px;" class="ct-chart"></div>
      </div>
    </div>
  </div>


  <!-- main -->
  <main class="my-3">

    <!-- 选择角色 -->
    <div class="mt-4 role-box text-white text-center">
      <a class="d-inline-block bg-info">我是卖家</a>
      <a class="d-inline-block bg-secondary">我是买家</a>
    </div>

    <div class="steps-wrap">

      <!-- step 1-->
      <div class="step-1 py-2">
        <div class="" data-toggle="collapse" href="#step-1-box">
          <span class="fz-big mx-2">Steps1</span>
          <span class="fz-sm">选择大区</span>
        </div>

        <div class="collapse mt-3" id="step-1-box">
        </div>

      </div>

      <!-- step 2-->
      <div class="step-2 py-2">
        <div class="" data-toggle="collapse" href="#step-2-box">
          <span class="fz-big mx-2">Steps2</span>
          <span class="fz-sm">选择仓位发布订单，等待玩家下单</span>
        </div>

        <div class="collapse table-responsive" id="step-2-box">
          <table class="table store_table mt-3 fz-sm text-center">
            <thead>
              <tr class="">
                <th>仓库</th>
                <th>指导比例</th>
                <th>金币总量</th>
                <th>人民币</th>
                <th>仓库时间</th>
                <th style="min-width: 55px"></th>
              </tr>
            </thead>
            <tbody class="store_body">
            </tbody>
          </table>
        </div>

      </div>

      <!-- step 3-->
      <div class="step-3 py-2">
        <div class="" data-toggle="collapse" href="#step-3-box">
          <span class="fz-big mx-2">Steps3</span>
          <span class="fz-sm">查询交易替代品并完成拍货，等待玩家确认</span>
        </div>

        <div class="collapse" id="step-3-box">
          <div class="table-responsive">
            <table class="table fz-sm worder-break">
              <thead>
                <tr>
                  <th scope="col">仓库号</th>
                  <th scope="col">指导比列</th>
                  <th scope="col">金币总量</th>
                  <th scope="col">人民币</th>
                  <th scope="col">仓库时间</th>
                  <th scope="col"></th>
                  <th scope="col"></th>
                  <th scope="col"></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">1192#</th>
                  <td>232</td>
                  <td>231312</td>
                  <td>20</td>
                  <td>120</td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td scope="row" colspan="2">交易替代品信息</td>
                  <td colspan="4">
                    <img src="" alt="">
                  </td>
                  <td>
                    上拍金额<span>1203123123</span>
                  </td>
                  <td>
                    <span>已支付</span>
                  </td>
                </tr>
                <tr>
                  <td scope="row" colspan="2">买家上拍信息</td>
                  <td colspan="4">
                    <img src="" alt="">
                  </td>
                  <td>
                    上拍金额<span>1203123123</span>
                  </td>
                  <td>
                    <span>已支付</span>
                  </td>
                </tr>
                <tr>
                  <td scope="row" colspan="2">卖家上拍信息</td>
                  <td colspan="4">
                    <img src="" alt="">
                  </td>
                  <td>
                    上拍金额<span>1203123123</span>
                  </td>
                  <td>
                    <span>已支付</span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>

      <!-- step 4-->
      <div class="step-4 py-2">
        <div class=""  data-toggle="collapse" href="#step-4-box">
          <span class="fz-big mx-2">Steps4</span>
          <span class="fz-sm">买家确认，获得贷款</span>
        </div>

        <div class="collapse my-3" id="step-4-box">
          <div class="table-responsive">
            <table class="table fz-sm worder-break">
              <thead>
                <tr>
                  <th scope="col">仓库号</th>
                  <th scope="col">指导比列</th>
                  <th scope="col">金币总量</th>
                  <th scope="col">人民币</th>
                  <th scope="col">仓库时间</th>
                  <th scope="col"></th>
                  <th scope="col"></th>
                  <th scope="col"></th>
                </tr>
              </thead>
              <tbody class="my-4">
                <tr>
                  <th scope="row">1192#</th>
                  <td>232</td>
                  <td>231312</td>
                  <td>20</td>
                  <td>120</td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td scope="row" colspan="2">交易替代品信息</td>
                  <td colspan="4">
                    <img src="" alt="">
                  </td>
                  <td>
                    上拍金额<span>1203123123</span>
                  </td>
                  <td>
                    <span>已支付</span>
                  </td>
                </tr>
                <tr>
                  <td scope="row" colspan="2">买家上拍信息</td>
                  <td colspan="4">
                    <img src="" alt="">
                  </td>
                  <td>
                    上拍金额<span>1203123123</span>
                  </td>
                  <td>
                    <span>已支付</span>
                  </td>
                </tr>
                <tr>
                  <td scope="row" colspan="2">卖家上拍信息</td>
                  <td colspan="4">
                    <img src="" alt="">
                  </td>
                  <td>
                    上拍金额<span>1203123123</span>
                  </td>
                  <td>
                    <span>已支付</span>
                  </td>
                </tr>
              </tbody>
              <tbody class="my-4">
                <tr>
                  <th scope="row">1192#</th>
                  <td>232</td>
                  <td>231312</td>
                  <td>20</td>
                  <td>120</td>
                  <td></td>
                  <td></td>
                </tr>
                <tr>
                  <td scope="row" colspan="2">交易替代品信息</td>
                  <td colspan="4">
                    <img src="" alt="">
                  </td>
                  <td>
                    上拍金额<span>1203123123</span>
                  </td>
                  <td>
                    <span class="bg-secondary text-white p-1 rounded">已支付</span>
                  </td>
                </tr>
                <tr>
                  <td scope="row" colspan="2">买家上拍信息</td>
                  <td colspan="4">
                    <img src="" alt="">
                  </td>
                  <td>
                    上拍金额<span>1203123123</span>
                  </td>
                  <td>
                    <span class="bg-secondary text-white p-1 rounded">已支付</span>
                  </td>
                </tr>
                <tr>
                  <td scope="row" colspan="2">卖家上拍信息</td>
                  <td colspan="4">
                    <img src="" alt="">
                  </td>
                  <td>
                    上拍金额<span>1203123123</span>
                  </td>
                  <td>
                    <span class="bg-secondary text-white p-1 rounded">已支付</span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

    </div>

  </main>


  <script src="/static/js/jquery-3.3.1.slim.min.js"></script>                                                                           
  <script src="/static/js/popper.min.js"></script>                                                                                      
  <script src="/static/js/bootstrap.min.js"></script>                                                                                   

</body>
<script src="/static/js/step_1.js"></script>
<script src="/static/js/step_2.js"></script>
<script src="/static/js/echarts.min.js"></script>
<script>
	$(function() {
        var my_chart = echarts.init(document.getElementById('mychart'));
        // 指定图表的配置项和数据
        var option = {
            legend: {
                data:['时段一', '时段二', '时段三', '时段四']
            },
            color: ['#259c36', '#14c7c4', '##c1c71f', 'red'],
            xAxis: {
                type: 'category',
                nameGap: 20,
                data: {{date_range[area]|tojson}}
            },
            yAxis: {
                type: 'value',
                axisLabel: {
                    formatter: '{value}'
                },
                min: 0,
                max: 200,
                name: '金币/人民币'
            },
            tooltip: {
                formatter: function (param) {
                        return '指导比例(金币/人民币)：'+param.data;
                    }
            },
            series: [
                {% for udata in line_data[area]%}
                {
                    name: "{{udata['name']}}",
                    type: 'line',
                    data: {{udata['data']}},
                },
                {% endfor %}
            ],
        };
        // 使用刚指定的配置项和数据显示图表。
        my_chart.setOption(option);
	});

  // 各大区
  function step1() {
    var region_data = obj;
    var i = -1
    $.each(region_data, function (index, item) {
      i++
      $('#step-1-box').append('<div class="region_box d-flex py-2"><span class="region_name bg-secondary text-white py-1 px-2">' + index + '</span><ul class="region_list pl-2"></ul></div>')
      $.each(item, function (j, data) {
        $('.region_list').eq(i).append('<li class="list-unstyled d-inline-block mx-2"><a class="fz-sm">' + data + '</a></li>')
      })
    })
  }
  step1()

  // 仓库
  function step2() {
    var payStore = dnfStore
    console.log(payStore)
    
    $.each(payStore,function(i,item){
      var tr = $('<tr></tr>');
      $('.store_body').append(tr)
      $.each(item, function(j,data){
        var store_body_tr = $('.store_body tr').eq(i)
        store_body_tr.append('<td></td>')
      })
      $('.store_body tr').eq(i).find('td:eq(0)').append(
        '<input class="form-check-input ml-0" type="checkbox" id="storeCheck"/><label class="form-check-label ml-3" for="storeCheck">' + item['staore_number'] +'</label>')
      $('.store_body tr').eq(i).find('td:eq(1)').append('<span>'+ item['proportion']+'</span>')
      $('.store_body tr').eq(i).find('td:eq(2)').append('<span>'+ item['total']+'</span>')
      $('.store_body tr').eq(i).find('td:eq(3)').append('<span>'+ item['RMB']+'</span>')
      $('.store_body tr').eq(i).find('td:eq(4)').append('<span>'+ item['time']+'</span>')
      $('.store_body tr').eq(i).find('td:eq(5)').append('<a class="px-1 d-block text-white rounded" style="min-width:50px;">'+ item['status']+'</a>')

      if(item['status'] == '撤销'){
        $('.store_body tr').eq(i).find('td:eq(5) > a').addClass('bg-warning')
      }
      if (item['status'] == '发布') {
        $('.store_body tr').eq(i).find('td:eq(5) > a').addClass('bg-secondary')
      }
      if (item['status'] == '已失效') {
        $('.store_body tr').eq(i).find('td:eq(5) > a').addClass('bg-info')
      }
    })
  }
  step2()

  

</script>
<script>
</script>

</html>
